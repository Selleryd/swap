<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SWAP — Switch With Any Portion</title>
  <meta name="theme-color" content="#ffffff" />
  <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div id="app" class="appRoot"></div>

  <template id="tplSplash">
    <section class="screen screenCenter">
      <div class="bgGlow"></div>
      <div class="card glass heroCard">
        <img class="logo" alt="SWAP" src="https://cdn.shopify.com/s/files/1/0550/0659/3185/files/Swap_logo_1.jpg?v=1766691390"/>
        <div class="heroText">
          <h1>Switch With Any Portion</h1>
          <p>Personalized, whole-food meal plans + an exchange-style SWAP system that lets you swap foods without breaking nutrition.</p>
        </div>
        <button class="btn primary" data-action="go-intake">Start now</button>
        <div class="fineprint">No account needed. Your profile saves privately in your browser.</div>
      </div>
    </section>
  </template>

  <template id="tplShell">
    <div class="shell">
      <aside class="sidebar glass">
        <div class="brandRow">
          <img class="logoSm" alt="SWAP" src="https://cdn.shopify.com/s/files/1/0550/0659/3185/files/Swap_logo_1.jpg?v=1766691390"/>
          <div class="brandMeta">
            <div class="brandName">SWAP</div>
            <div class="brandSub">Switch With Any Portion</div>
          </div>
        </div>

        <nav class="nav">
          <button class="navItem active" data-tab="plan">Meal Plan</button>
          <button class="navItem" data-tab="recipes">Recipes</button>
          <button class="navItem" data-tab="profile">Profile</button>
        </nav>

        <div class="sidebarFooter">
          <div class="chip" id="chipStatus">Ready</div>
          <button class="btn ghost" data-action="reset">Reset</button>
        </div>
      </aside>

      <main class="main">
        <header class="topbar glass">
          <div class="topbarTitle" id="topbarTitle">Meal Plan</div>
          <div class="topbarRight">
            <div class="chip subtle" id="chipTargets">—</div>
          </div>
        </header>

        <section class="content" id="content"></section>
      </main>
    </div>
  </template>

  <template id="tplProfile">
    <section class="panel">
      <div class="panelHeader">
        <h2>Profile</h2>
        <p class="muted">Update your intake anytime. Your plan regenerates off your latest profile.</p>
      </div>

      <form class="gridForm" id="profileForm">
        <div class="field">
          <label>Age</label>
          <input required name="age" type="number" min="10" max="120" placeholder="e.g., 34" />
        </div>

        <div class="field">
          <label>Gender</label>
          <select required name="gender">
            <option value="">Select</option>
            <option value="female">Female</option>
            <option value="male">Male</option>
          </select>
        </div>

        <div class="field">
          <label>Height</label>
          <div class="row">
            <input required name="heightValue" type="number" min="30" max="300" step="0.1" placeholder="e.g., 5.6 or 170" />
            <select required name="heightUnit">
              <option value="cm">cm</option>
              <option value="in">inches</option>
            </select>
          </div>
          <div class="hint">If inches, enter total inches (e.g., 66). You can also enter 5.6 in “inches” and we’ll interpret it as feet.inches.</div>
        </div>

        <div class="field">
          <label>Weight</label>
          <div class="row">
            <input required name="weightValue" type="number" min="30" max="800" step="0.1" placeholder="e.g., 165 or 75" />
            <select required name="weightUnit">
              <option value="lb">lbs</option>
              <option value="kg">kg</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label>Activity level</label>
          <select required name="activity">
            <option value="">Select</option>
            <option value="sedentary">Sedentary (desk job, little exercise)</option>
            <option value="light">Lightly active (1–3 workouts/week)</option>
            <option value="moderate">Moderately active (3–5 workouts/week)</option>
            <option value="very">Very active (6–7 workouts/week)</option>
            <option value="extreme">Extremely active (hard training + physical job)</option>
          </select>
        </div>

        <div class="field">
          <label>Goal</label>
          <select required name="goal">
            <option value="">Select</option>
            <option value="lose">Lose weight</option>
            <option value="maintain">Maintain</option>
            <option value="gain">Gain weight</option>
          </select>
        </div>

        <div class="field">
          <label>Weekly pace</label>
          <select required name="pace">
            <option value="0">—</option>
            <option value="0.5">0.5 lb/week</option>
            <option value="1">1 lb/week</option>
            <option value="1.5">1.5 lb/week</option>
            <option value="2">2 lb/week</option>
          </select>
          <div class="hint">Used only for lose/gain. Maintainers can leave it as “—”.</div>
        </div>

        <div class="field full">
          <label>Dietary restrictions (comma-separated)</label>
          <input name="dietary" type="text" placeholder="e.g., dairy-free, gluten-free, vegetarian" />
        </div>

        <div class="field full">
          <label>Allergens to avoid (comma-separated)</label>
          <input name="allergens" type="text" placeholder="e.g., peanuts, shellfish, soy" />
        </div>

        <div class="field full">
          <label>Non-negotiables (locked)</label>
          <div class="lockList">
            <span class="pill">No added sugar</span>
            <span class="pill">No artificial sweeteners</span>
            <span class="pill">No food dyes</span>
            <span class="pill">No artificial flavors</span>
            <span class="pill">No trans fats</span>
            <span class="pill">No refined grains</span>
            <span class="pill">No processed meats (high sodium)</span>
            <span class="pill">Avoid bad preservatives / ultra-processed additives</span>
            <span class="pill">Lean proteins + whole foods</span>
          </div>
        </div>

        <div class="actionsRow full">
          <button class="btn primary" type="submit">Save profile</button>
          <button class="btn" type="button" data-action="go-plan">Go to Meal Plan</button>
        </div>
      </form>
    </section>
  </template>

  <template id="tplPlan">
    <section class="planGrid">
      <div class="planLeft glass">
        <div class="planHeader">
          <div>
            <h2>Week Plan</h2>
            <div class="muted" id="weekMeta">—</div>
          </div>
          <div class="planActions">
            <button class="btn primary" data-action="generate-plan">Generate</button>
            <button class="btn" data-action="regenerate-plan">Regenerate</button>
          </div>
        </div>

        <div class="planLegend">
          <span class="legendItem"><span class="dot carb"></span> Carbs</span>
          <span class="legendItem"><span class="dot protein"></span> Protein</span>
          <span class="legendItem"><span class="dot fat"></span> Fat</span>
          <span class="legendItem"><span class="dot free"></span> Free foods</span>
        </div>

        <div class="calendar" id="calendar"></div>
      </div>

      <div class="planRight glass">
        <div class="swapHeader">
          <div>
            <h2 id="swapTitle">Swaps</h2>
            <div class="muted" id="swapSub">Click a food item to see equivalent swaps.</div>
          </div>
          <div class="swapChips" id="swapChips"></div>
        </div>

        <div class="swapBody" id="swapBody">
          <div class="emptyState">
            <div class="big">Select a food</div>
            <div class="muted">We’ll show equivalent swaps in the same subgroup first (fruit→fruit, grain→grain), then allowed alternates.</div>
          </div>
        </div>

        <div class="freeFooter">
          <div class="freeTitle">Free Foods (extra hunger)</div>
          <div class="freeList" id="freeList"></div>
        </div>
      </div>
    </section>
  </template>

  <template id="tplRecipes">
    <section class="panel">
      <div class="panelHeader">
        <h2>Recipes</h2>
        <p class="muted">Recipes generate when you request them. They’re stored here (in your browser) so you don’t lose them.</p>
      </div>

      <div class="recipeTools glass">
        <button class="btn primary" data-action="generate-recipes-week">Generate recipes for this week</button>
        <div class="muted" id="recipeStatus">—</div>
      </div>

      <div id="recipesList" class="recipesList"></div>
    </section>
  </template>

  <script type="module" src="./app.js"></script>

</body>
</html>
